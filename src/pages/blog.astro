---
let posts = [];

try {
  const response = await fetch("https://navigatingadolescenceonline.wordpress.com/wp-json/wp/v2/posts?per_page=5");
  
  if (!response.ok) {
    throw new Error(`Failed to fetch posts: ${response.status} ${response.statusText}`);
  }
  
  posts = await response.json();
} catch (error) {
  console.error("Error fetching posts:", error);
}
---

<html>
  <head>
    <title>Blog - Navigating Adolescence</title>
  </head>
  <body>
    <h1>Latest Blog Posts</h1>
    
    {posts.length > 0 ? (
      <ul>
        {posts.map(post => (
          <li key={post.id}>
            <h2>
              <a href={post.link} set:html={post.title.rendered}></a>
            </h2>
            <p set:html={post.excerpt.rendered}></p>
            <a href={post.link}>Read More</a>
          </li>
        ))}
      </ul>
    ) : (
      <p>No blog posts available at the moment.</p>
    )}
  </body>
</html>